<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://ddupg.github.io/blog</id>
    <title>Ddupg Blog</title>
    <updated>2022-06-26T12:00:00.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://ddupg.github.io/blog"/>
    <subtitle>Ddupg Blog</subtitle>
    <icon>https://ddupg.github.io/img/favicon.ico</icon>
    <entry>
        <title type="html"><![CDATA[Docusaurus建站（3）- hygen生成页面模版]]></title>
        <id>docusaurus-website-3</id>
        <link href="https://ddupg.github.io/blog/docusaurus-website-3"/>
        <updated>2022-06-26T12:00:00.000Z</updated>
        <summary type="html"><![CDATA[请输入描述]]></summary>
        <content type="html"><![CDATA[<p>写博客每次都要写一堆matter信息，贼麻烦，用hygen工具生成。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="安装hygen">安装hygen<a class="hash-link" href="#安装hygen" title="标题的直接链接">​</a></h2><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ brew tap jondot/tap</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ brew </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> hygen</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ hygen init self</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>添加自己的模版</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ hygen generator new blog</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content>
        <author>
            <name>Ddupg</name>
            <uri>https://ddupg.github.io</uri>
        </author>
        <category label="Docusaurus" term="Docusaurus"/>
        <category label="React" term="React"/>
        <category label="前端" term="前端"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Docusaurus建站（2）- 部署到GitHub Pages]]></title>
        <id>docusaurus-website-2</id>
        <link href="https://ddupg.github.io/blog/docusaurus-website-2"/>
        <updated>2022-06-26T11:00:00.000Z</updated>
        <summary type="html"><![CDATA[请输入描述]]></summary>
        <content type="html"><![CDATA[<p>部署到GitHub Pages。官网支持很多种方法，我选了GitHub Action。
我有几台电脑，几套开发环境，如果每个都配一遍也够麻烦的，毕竟不是专业的前端。用GitHub Action的话，写简单博客或者文档直接push到仓库就好了，甚至可以在GitHub的网页编辑，方便得很。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="新建github仓库上传代码">新建GitHub仓库&amp;上传代码<a class="hash-link" href="#新建github仓库上传代码" title="标题的直接链接">​</a></h2><p>上一步只能在本地运行部署，要把它部署到GitHub Pages，得先上传到GitHub的一个仓库里。</p><p>我这里就是上传到了ddupg.github.io仓库。</p><blockquote><p>以github.io后缀的仓库名，GitHub会默认这是个GitHub Pages项目，如果是其他项目还需要自己配置GitHub Pages。具体看下<a href="https://pages.github.com/" target="_blank" rel="noopener noreferrer">官网介绍</a>。</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="配置access-token">配置Access Token<a class="hash-link" href="#配置access-token" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="生成">生成<a class="hash-link" href="#生成" title="标题的直接链接">​</a></h3><p>生成一个专用于GitHub Pages部署用的access token，GitHub Action需要用这个token才能部署。</p><p>在自己的GitHub账号里，从页面右上角开始：</p><p><em>Setting -&gt;Developer settings -&gt;  Personal access tokens</em></p><p>生成一个新的token，记得复制下来，马上要用：</p><p><img loading="lazy" alt="new-token.png" src="/assets/images/new-token-77a71a94047528c7490cc4dc2265e41b.png" width="802" height="627" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="配置">配置<a class="hash-link" href="#配置" title="标题的直接链接">​</a></h3><p><img loading="lazy" src="/assets/images/env-var-0b10f2f47d231a7b23df34ff41c09527.png" width="1638" height="848" class="img_ev3q"></p><p>这里的环境变量名后面要用，不要乱起名。环境变量的值，就是上一步生成的token。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="配置github-action">配置GitHub Action<a class="hash-link" href="#配置github-action" title="标题的直接链接">​</a></h2><p>详细的可以看<a href="https://www.docusaurus.cn/docs/deployment#triggering-deployment-with-github-actions" target="_blank" rel="noopener noreferrer">Docusaurus文档</a></p><p>配置GitHub Action非常简单，只需要在自己的项目的固定目录新加个配置文件就好了。</p><ul><li><p>文件名随意。目录必须是：<code>.github/workflows/</code></p></li><li><p>如果你的默认主分支不是main，那就改下<code>on.push.branches</code>。如果其他分支也需要触发，那也加上分支名。</p></li><li><p>如果你的环境变量名字不是<code>ACCESS_TOKEN</code>，就改个环境变量名，其他的不要动</p></li></ul><div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Deploy to GitHub Pages</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">push</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">branches</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">jobs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">deploy</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Deploy to GitHub Pages</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">runs-on</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ubuntu</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">steps</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">uses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> actions/checkout@v2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">uses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> actions/setup</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">node@v3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">with</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">node-version</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 16.x</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">cache</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> yarn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Install dependencies</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">run</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> yarn install </span><span class="token punctuation" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">frozen</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">lockfile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Build website</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">run</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> yarn build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># Popular action to deploy to GitHub Pages:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># Docs: https://github.com/peaceiris/actions-gh-pages#%EF%B8%8F-docusaurus</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Deploy to GitHub Pages</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">uses</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> peaceiris/actions</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">gh</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">pages@v3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">with</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">github_token</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> secrets.ACCESS_TOKEN </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic"># Build output to publish to the `gh-pages` branch:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">publish_dir</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ./build</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="最后">最后<a class="hash-link" href="#最后" title="标题的直接链接">​</a></h2><p>把修改后的配置文件push到仓库就好了，GitHub Action会自动触发。</p><p>再修改下GitHub Pages使用的分支，这事就成了。</p><p><img loading="lazy" src="/assets/images/github-pages-a97a1ac6b80121310c1c8774bb5f2ea1.png" width="1079" height="503" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="参考">参考<a class="hash-link" href="#参考" title="标题的直接链接">​</a></h2><p><a href="https://www.docusaurus.cn/" target="_blank" rel="noopener noreferrer">Docusaurus文档</a></p>]]></content>
        <author>
            <name>Ddupg</name>
            <uri>https://ddupg.github.io</uri>
        </author>
        <category label="Docusaurus" term="Docusaurus"/>
        <category label="React" term="React"/>
        <category label="前端" term="前端"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Docusaurus建站（1）- 项目初始化]]></title>
        <id>docusaurus-website-1</id>
        <link href="https://ddupg.github.io/blog/docusaurus-website-1"/>
        <updated>2022-06-26T10:00:00.000Z</updated>
        <summary type="html"><![CDATA[请输入描述]]></summary>
        <content type="html"><![CDATA[<p>本想重做自己的博客和文档，本打算从头写，调研了Next.js和Gatsby，都是很强大的框架，但对我个后端开发来说还是很有难度的。无意中看到了Docusaurus框架，能自带文档和博客，还能高度自定义页面，完美匹配我的需求，所以就有了这个系列，打算记录下整个博客改造过程，能写几期不一定，慢慢来吧。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="初始化项目">初始化项目<a class="hash-link" href="#初始化项目" title="标题的直接链接">​</a></h2><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ npx create-docusaurus@latest my-website classic --typescript</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ yarn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ yarn build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ yarn start # 开发过程中，能自动刷新</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ yarn serve # 不会自动刷新</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="修改网站配置">修改网站配置<a class="hash-link" href="#修改网站配置" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="修改网站基本信息">修改网站基本信息<a class="hash-link" href="#修改网站基本信息" title="标题的直接链接">​</a></h3><p><img loading="lazy" alt="config-basic.png" src="/assets/images/config-basic-769cf3cfc8811e809d2f3c59aa7666fa.png" width="1102" height="796" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="修改图标导航栏">修改图标&amp;导航栏<a class="hash-link" href="#修改图标导航栏" title="标题的直接链接">​</a></h3><p><img loading="lazy" src="/assets/images/config-navbar-cfd63c0f3bd7bb5a5396da10778ba00e.png" width="926" height="1408" class="img_ev3q"></p><p>制作图标过程中用到的几个工具，都是临时google找的：</p><p><a href="https://www.remove.bg/zh" target="_blank" rel="noopener noreferrer">图片背景消除</a></p><p><a href="https://www.logosc.cn/logo/favicon?s=d" target="_blank" rel="noopener noreferrer">icon图标生成工具</a></p><p><a href="https://www.aconvert.com/cn/image/png-to-svg/" target="_blank" rel="noopener noreferrer">PNG转SVG - 在线转换图像文件</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="修改footer">修改Footer<a class="hash-link" href="#修改footer" title="标题的直接链接">​</a></h3><p><img loading="lazy" src="/assets/images/config-footer-13e3c99e1a491cefa4855282c1193f5c.png" width="1736" height="1660" class="img_ev3q"> &nbsp;</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="删掉自带的博客文档demo">删掉自带的博客/文档Demo<a class="hash-link" href="#删掉自带的博客文档demo" title="标题的直接链接">​</a></h2><p>博客目录：<code>blog/</code>
文档目录：<code>docs/</code></p><p>文档目录只留个<code>intro.md</code>，因为配置里留了这个文件的引用，后面当个主页导航用。</p>]]></content>
        <author>
            <name>Ddupg</name>
            <uri>https://ddupg.github.io</uri>
        </author>
        <category label="Docusaurus" term="Docusaurus"/>
        <category label="React" term="React"/>
        <category label="前端" term="前端"/>
    </entry>
</feed>